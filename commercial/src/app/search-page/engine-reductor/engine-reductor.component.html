  <h1 class="configurator_header">Конфигуратор мотор-редуктора</h1>
    <div class="container_element_configurator">
      <div class="element_configurator">
        <span>Тип редуктора</span>
        <select (change)="idReducerTypeSelected($event)">
          <option value="Select"  selected>Select</option>
          <option *ngFor="let type of reducerType" [value]="type.reducerTypeName">{{ type.reducerTypeName }}</option>
        </select>
      </div>

      <div class="element_configurator">
        <span>Крутящий момент</span>
        <input  min="0" [(ngModel)]="this.torqueMoment"  type="number" (keypress)="preventNegative($event)" />
      </div>

      <div class="element_configurator">
        <span>Передаточное отношение</span>
        <input min="0" [(ngModel)]="this.ratio" type="number" (keypress)="preventNegative($event)"/>
      </div>
    </div>
    <br />
      <div class="container_element_configurator" >
        <div class="element_configurator">
          <span>Число оборотов об/мин </span>
          <input min="0" [(ngModel)]="this.rpm"  type="number" (keypress)="preventNegative($event)" />
        </div>
        <!-- <div class="rate_element_configurator"> -->
          <div class="element_configurator">
            <span>Диаметр выходного вала</span>
            <input min="0" [(ngModel)]="this.diamOutput" type="number" (keypress)="preventNegative($event)"/>
          </div>
          <!-- <div class="element_configurator" style="margin-bottom: 20px">
            <span class="rate_header">+-</span>
          </div> -->
          <div class="element_configurator">
            <span>Возможный допуск диаметра, мм</span>
            <input min="0" [(ngModel)]="this.diamOutputAllowance" type="number" (keypress)="preventNegative($event)"/>
          </div>
        <!-- </div> -->
      </div>
    <br />

    <br />
    <div class="container_element_configurator">
      <div class="element_configurator">
        <span>Тип двигателя</span>
        <select (change)="idMotorTypeSelected($event)">
          <option value="Select"  selected>Select</option>
          <option *ngFor="let type of motorType" [value]="type.motorTypeName">{{ type.motorTypeName }}</option>
        </select>
      </div>
      <div class="element_configurator">
        <span>Мощность двигателя</span>
        <input min="0" [(ngModel)]="this.power"  type="number" (keypress)="preventNegative($event)"/>
      </div>
      <div class="element_configurator">
        <span>Монтажное положение</span>
        <select (change)="idReducerMountingSelected($event)">
          <option value="Select"  selected>Select</option>
          <option *ngFor="let type of reducerMounting" [value]="type.reducerMountingValue">{{ type.reducerMountingValue }}</option>
        </select>
      </div>
    </div>
    <br />
    <div class="container_element_configurator">
      <div  *ngIf="reducerTypeId && reducerTypeId !== null"  class="element_configurator">
        <span>Тип крепления редуктора</span>
        <select [disabled]="!reducerTypeId" (change)="idReducerInstallationSelected($event)">
          <option value="Select"  selected>Select</option>
          <option *ngFor="let type of reducerInstallationType" [value]="type.reducerInstallationTypeValue">{{ type.reducerInstallationTypeValue }}</option>
        </select>
      </div>
      <div *ngIf="reducerTypeId && reducerTypeId !== null"  class="element_configurator">
        <span>Размер редуктора</span>
        <select [disabled]="!reducerTypeId" (change)="idReducerSizeBSelected($event)">
          <option value="Select"  selected>Select</option>
          <option *ngFor="let type of resucerSize" [value]="type.reducerSizeValue">{{ type.reducerSizeValue }}</option>
        </select>
      </div>
      <div  *ngIf="reducerTypeId && reducerTypeId !== null"  class="element_configurator">
        <span>Форма выходного вала</span>
        <select [disabled]="!reducerTypeId" (change)="idReducerOutputShaftTypeSelected($event)">
          <option value="Select"  selected>Select</option>
          <option *ngFor="let type of reducerOutputShaftType" [value]="type.reducerOutputShaftTypeValue">{{ type.reducerOutputShaftTypeValue }}</option>
        </select>
      </div>
    </div>
      <br />
      <div *ngFor="let option of productOption"  class="custom-checkbox">
        <input type="checkbox" [id]="'checkbox_' + option.idProductOption" [value]="option.idProductOption" (change)="onCheckboxChange($event, option.idProductOption)">
        <label [for]="'checkbox_' + option.idProductOption">{{ option.productOptionValue }}</label>
      </div>
      <br />
    <hr />
    <div class="button-container"><button (click)="searchProduct(this.filter)">Найти</button></div>
    <br />
    <!-- <hr /> -->
    <table class="table" *ngIf="foundProducts !== null || foundProducts !== []">
      <thead *ngIf="foundProducts && foundProducts.length > 0">
        <tr>
            <!-- <th>id</th> -->
            <th>Наименование</th>
            <th>Мощность</th>
            <!-- <th>Положение клеммной коробки</th> -->
            <th>Об/мин</th>
            <th>Передаточное отношение</th>
            <th>Крутящий момент</th>
            <th>Диаметр выходного вала</th>
            <th>Вес</th>
            <th>Чертёж</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let product of foundProducts">
            <!-- <td>{{ product.idProduct }}</td> -->
            <td>{{ product.name }}</td>

            <td >{{ product.motor?.power || 0 }}</td>
            <!-- <td>{{ product.motor?.posTerminalBox || 0 }}</td> -->
            <td>{{ product.rpm || 0 }}</td>

            <td>{{ product.reducer?.ratio || 0 }}</td>
            <td>{{ product.torqueMoment || 0 }}</td>
            <td>{{ product.reducer?.diameterOutputShaft || 0 }}</td>

            <td>{{ product.weight || 0 }}</td>

            <td>
              <div class="button-containerrr">
                <ng-container *ngIf="!product.imageEmpty; else noImage">
                  <button class="custombutton" (click)="downloadImage(product.idProduct, product.name)">Скачать</button>
              </ng-container>
              </div>
                <ng-template #noImage>
                    <div>Нет чертежа</div>
                </ng-template>
            </td>
            <td class="tablebt">   <div class="button-containerrr"><button class="plus-button"  (click)="selectProduct(product)">+</button>  </div></td>
        </tr>
    </tbody>
    </table>
